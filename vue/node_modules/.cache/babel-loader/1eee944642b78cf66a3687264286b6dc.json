{"ast":null,"code":"const on = (element, event, handler, useCapture = false) => {\n  if (element && event && handler) {\n    element == null ? void 0 : element.addEventListener(event, handler, useCapture);\n  }\n};\n\nconst off = (element, event, handler, useCapture = false) => {\n  if (element && event && handler) {\n    element == null ? void 0 : element.removeEventListener(event, handler, useCapture);\n  }\n};\n\nconst once = (el, event, fn) => {\n  const listener = function (...args) {\n    if (fn) {\n      fn.apply(this, args);\n    }\n\n    off(el, event, listener);\n  };\n\n  on(el, event, listener);\n};\n\nconst composeEventHandlers = (theirsHandler, oursHandler, {\n  checkForDefaultPrevented = true\n} = {}) => {\n  const handleEvent = event => {\n    const shouldPrevent = theirsHandler == null ? void 0 : theirsHandler(event);\n\n    if (checkForDefaultPrevented === false || !shouldPrevent) {\n      return oursHandler == null ? void 0 : oursHandler(event);\n    }\n  };\n\n  return handleEvent;\n};\n\nconst whenMouse = handler => {\n  return e => e.pointerType === \"mouse\" ? handler(e) : void 0;\n};\n\nexport { composeEventHandlers, off, on, once, whenMouse };","map":{"version":3,"mappings":"AAAY,MAACA,EAAE,GAAG,CAACC,OAAD,EAAUC,KAAV,EAAiBC,OAAjB,EAA0BC,UAAU,GAAG,KAAvC,KAAiD;AACjE,MAAIH,OAAO,IAAIC,KAAX,IAAoBC,OAAxB,EAAiC;AAC/BF,WAAO,IAAI,IAAX,GAAkB,KAAK,CAAvB,GAA2BA,OAAO,CAACI,gBAAR,CAAyBH,KAAzB,EAAgCC,OAAhC,EAAyCC,UAAzC,CAA3B;AACD;AACH,CAJY;;AAKA,MAACE,GAAG,GAAG,CAACL,OAAD,EAAUC,KAAV,EAAiBC,OAAjB,EAA0BC,UAAU,GAAG,KAAvC,KAAiD;AAClE,MAAIH,OAAO,IAAIC,KAAX,IAAoBC,OAAxB,EAAiC;AAC/BF,WAAO,IAAI,IAAX,GAAkB,KAAK,CAAvB,GAA2BA,OAAO,CAACM,mBAAR,CAA4BL,KAA5B,EAAmCC,OAAnC,EAA4CC,UAA5C,CAA3B;AACD;AACH,CAJY;;AAKA,MAACI,IAAI,GAAG,CAACC,EAAD,EAAKP,KAAL,EAAYQ,EAAZ,KAAmB;AACrC,QAAMC,QAAQ,GAAG,UAAS,GAAGC,IAAZ,EAAkB;AACjC,QAAIF,EAAJ,EAAQ;AACNA,QAAE,CAACG,KAAH,CAAS,IAAT,EAAeD,IAAf;AACD;;AACDN,OAAG,CAACG,EAAD,EAAKP,KAAL,EAAYS,QAAZ,CAAH;AACD,GALD;;AAMAX,IAAE,CAACS,EAAD,EAAKP,KAAL,EAAYS,QAAZ,CAAF;AACF,CARY;;AASA,MAACG,oBAAoB,GAAG,CAACC,aAAD,EAAgBC,WAAhB,EAA6B;AAAEC,0BAAwB,GAAG;AAA7B,IAAsC,EAAnE,KAA0E;AAC5G,QAAMC,WAAW,GAAIhB,KAAD,IAAW;AAC7B,UAAMiB,aAAa,GAAGJ,aAAa,IAAI,IAAjB,GAAwB,KAAK,CAA7B,GAAiCA,aAAa,CAACb,KAAD,CAApE;;AACA,QAAIe,wBAAwB,KAAK,KAA7B,IAAsC,CAACE,aAA3C,EAA0D;AACxD,aAAOH,WAAW,IAAI,IAAf,GAAsB,KAAK,CAA3B,GAA+BA,WAAW,CAACd,KAAD,CAAjD;AACD;AACF,GALD;;AAMA,SAAOgB,WAAP;AACF,CARY;;AASA,MAACE,SAAS,GAAIjB,OAAD,IAAa;AACpC,SAAQkB,CAAD,IAAOA,CAAC,CAACC,WAAF,KAAkB,OAAlB,GAA4BnB,OAAO,CAACkB,CAAD,CAAnC,GAAyC,KAAK,CAA5D;AACF,CAFY","names":["on","element","event","handler","useCapture","addEventListener","off","removeEventListener","once","el","fn","listener","args","apply","composeEventHandlers","theirsHandler","oursHandler","checkForDefaultPrevented","handleEvent","shouldPrevent","whenMouse","e","pointerType"],"sources":["../../../../../packages/utils/dom/event.ts"],"sourcesContent":["/** @deprecated use `element.addEventListener` instead */\nexport const on = (\n  element: HTMLElement | Document | Window,\n  event: string,\n  handler: EventListenerOrEventListenerObject,\n  useCapture = false\n): void => {\n  if (element && event && handler) {\n    element?.addEventListener(event, handler, useCapture)\n  }\n}\n\n/** @deprecated use `element.addEventListener` instead */\nexport const off = (\n  element: HTMLElement | Document | Window,\n  event: string,\n  handler: EventListenerOrEventListenerObject,\n  useCapture = false\n): void => {\n  if (element && event && handler) {\n    element?.removeEventListener(event, handler, useCapture)\n  }\n}\n\n/** @deprecated use `element.addEventListener` instead */\nexport const once = (\n  el: HTMLElement,\n  event: string,\n  fn: EventListener\n): void => {\n  const listener = function (this: any, ...args: any) {\n    if (fn) {\n      fn.apply(this, args)\n    }\n    off(el, event, listener)\n  }\n  on(el, event, listener)\n}\n\nexport const composeEventHandlers = <E>(\n  theirsHandler?: (event: E) => boolean | void,\n  oursHandler?: (event: E) => void,\n  { checkForDefaultPrevented = true } = {}\n) => {\n  const handleEvent = (event: E) => {\n    const shouldPrevent = theirsHandler?.(event)\n\n    if (checkForDefaultPrevented === false || !shouldPrevent) {\n      return oursHandler?.(event)\n    }\n  }\n  return handleEvent\n}\n\ntype WhenMouseHandler = (e: PointerEvent) => any\nexport const whenMouse = (handler: WhenMouseHandler): WhenMouseHandler => {\n  return (e: PointerEvent) =>\n    e.pointerType === 'mouse' ? handler(e) : undefined\n}\n"]},"metadata":{},"sourceType":"module"}