{"ast":null,"code":"import { ref } from 'vue';\nimport { isFunction } from '@vue/shared';\nimport '../../../utils/index.mjs';\nimport { isKorean } from '../../../utils/i18n.mjs';\n\nfunction useInput(handleInput) {\n  const isComposing = ref(false);\n\n  const handleCompositionStart = () => {\n    isComposing.value = true;\n  };\n\n  const handleCompositionUpdate = event => {\n    const text = event.target.value;\n    const lastCharacter = text[text.length - 1] || \"\";\n    isComposing.value = !isKorean(lastCharacter);\n  };\n\n  const handleCompositionEnd = event => {\n    if (isComposing.value) {\n      isComposing.value = false;\n\n      if (isFunction(handleInput)) {\n        handleInput(event);\n      }\n    }\n  };\n\n  return {\n    handleCompositionStart,\n    handleCompositionUpdate,\n    handleCompositionEnd\n  };\n}\n\nexport { useInput };","map":{"version":3,"mappings":";;;;;AAGO,SAASA,QAAT,CAAkBC,WAAlB,EAA+B;AACpC,QAAMC,WAAW,GAAGC,GAAG,CAAC,KAAD,CAAvB;;AACA,QAAMC,sBAAsB,GAAG,MAAM;AACnCF,eAAW,CAACG,KAAZ,GAAoB,IAApB;AACD,GAFD;;AAGA,QAAMC,uBAAuB,GAAIC,KAAD,IAAW;AACzC,UAAMC,IAAI,GAAGD,KAAK,CAACE,MAAN,CAAaJ,KAA1B;AACA,UAAMK,aAAa,GAAGF,IAAI,CAACA,IAAI,CAACG,MAAL,GAAc,CAAf,CAAJ,IAAyB,EAA/C;AACAT,eAAW,CAACG,KAAZ,GAAoB,CAACO,QAAQ,CAACF,aAAD,CAA7B;AACD,GAJD;;AAKA,QAAMG,oBAAoB,GAAIN,KAAD,IAAW;AACtC,QAAIL,WAAW,CAACG,KAAhB,EAAuB;AACrBH,iBAAW,CAACG,KAAZ,GAAoB,KAApB;;AACA,UAAIS,UAAU,CAACb,WAAD,CAAd,EAA6B;AAC3BA,mBAAW,CAACM,KAAD,CAAX;AACD;AACF;AACF,GAPD;;AAQA,SAAO;AACLH,0BADK;AAELE,2BAFK;AAGLO;AAHK,GAAP;AAKF","names":["useInput","handleInput","isComposing","ref","handleCompositionStart","value","handleCompositionUpdate","event","text","target","lastCharacter","length","isKorean","handleCompositionEnd","isFunction"],"sources":["../../../../../../packages/components/select-v2/src/useInput.ts"],"sourcesContent":["import { ref } from 'vue'\nimport { isFunction } from '@vue/shared'\nimport { isKorean } from '@element-plus/utils'\n\nexport function useInput(handleInput: (event: InputEvent) => void) {\n  const isComposing = ref(false)\n\n  const handleCompositionStart = () => {\n    isComposing.value = true\n  }\n\n  const handleCompositionUpdate = (event) => {\n    const text = event.target.value\n    const lastCharacter = text[text.length - 1] || ''\n    isComposing.value = !isKorean(lastCharacter)\n  }\n\n  const handleCompositionEnd = (event) => {\n    if (isComposing.value) {\n      isComposing.value = false\n      if (isFunction(handleInput)) {\n        handleInput(event)\n      }\n    }\n  }\n\n  return {\n    handleCompositionStart,\n    handleCompositionUpdate,\n    handleCompositionEnd,\n  }\n}\n"]},"metadata":{},"sourceType":"module"}